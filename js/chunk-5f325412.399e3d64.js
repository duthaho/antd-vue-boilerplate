(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f325412"],{1348:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"main user-layout-register"},[t("a-form",{ref:"formRegister",attrs:{form:e.form,id:"formRegister"}},[e.errorMessage?t("a-alert",{staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",showIcon:"",message:e.errorMessage}}):e._e(),t("a-form-item",[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{required:!0,type:"email",message:"Please enter email"}],validateTrigger:["change","blur"]}],expression:"[\n          'email',\n          {\n            rules: [\n              {\n                required: true,\n                type: 'email',\n                message: 'Please enter email',\n              },\n            ],\n            validateTrigger: ['change', 'blur'],\n          },\n        ]"}],attrs:{size:"large",type:"text",placeholder:"Email"}},[t("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"mail"},slot:"prefix"})],1)],1),t("a-form-item",[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"Please enter username"}],validateTrigger:["change","blur"]}],expression:"[\n          'username',\n          {\n            rules: [{ required: true, message: 'Please enter username' }],\n            validateTrigger: ['change', 'blur'],\n          },\n        ]"}],attrs:{size:"large",type:"text",placeholder:"Username"}},[t("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),t("a-popover",{attrs:{placement:"rightTop",trigger:["focus"],getPopupContainer:function(e){return e.parentElement}},model:{value:e.state.passwordLevelChecked,callback:function(r){e.$set(e.state,"passwordLevelChecked",r)},expression:"state.passwordLevelChecked"}},[t("template",{slot:"content"},[t("div",{style:{width:"240px"}},[t("div",{class:["user-register",e.passwordLevelClass]},[e._v("Strength："),t("span",[e._v(e._s(e.passwordLevelName))])]),t("a-progress",{attrs:{percent:e.state.percent,showInfo:!1,strokeColor:e.passwordLevelColor}}),t("div",{staticStyle:{"margin-top":"10px"}},[t("span",[e._v("Please do not use passwords that are easy to guess.")])])],1)]),t("a-form-item",[t("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{validator:this.handlePasswordLevel}],validateTrigger:["change","blur"]}],expression:"[\n            'password',\n            {\n              rules: [{ validator: this.handlePasswordLevel }],\n              validateTrigger: ['change', 'blur'],\n            },\n          ]"}],attrs:{size:"large",autocomplete:"false",placeholder:"Password"},on:{click:e.handlePasswordInputClick}},[t("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1)],2),t("a-form-item",[t("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password2",{rules:[{validator:this.handlePasswordCheck}],validateTrigger:["change","blur"]}],expression:"[\n          'password2',\n          {\n            rules: [{ validator: this.handlePasswordCheck }],\n            validateTrigger: ['change', 'blur'],\n          },\n        ]"}],attrs:{size:"large",autocomplete:"false",placeholder:"Confirm password"}},[t("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),t("a-form-item",[t("a-button",{staticClass:"register-button",attrs:{icon:"user-add",size:"large",type:"primary",htmlType:"submit",loading:e.registerBtn,disabled:e.registerBtn},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.handleSubmit(r)}}},[e._v("Register ")]),t("router-link",{staticClass:"login",attrs:{to:{name:"Login"}}},[e._v("Log in")])],1)],1)],1)},a=[],o=(t("a15b"),t("d81d"),t("b64b"),t("d3b7"),t("498a"),t("5530")),n=t("2f62"),i=t("ac0d"),l={0:"low",1:"low",2:"medium",3:"strong"},c={0:"error",1:"error",2:"warning",3:"success"},d={0:"#ff0000",1:"#ff0000",2:"#ff7e05",3:"#52c41a"},u={name:"Register",components:{},mixins:[i["c"]],data:function(){return{form:this.$form.createForm(this),state:{passwordLevel:0,passwordLevelChecked:!1,percent:10,progressColor:"#FF0000"},errorMessage:null,registerBtn:!1}},computed:{passwordLevelClass:function(){return c[this.state.passwordLevel]},passwordLevelName:function(){return l[this.state.passwordLevel]},passwordLevelColor:function(){return d[this.state.passwordLevel]}},methods:Object(o["a"])({},Object(n["b"])("user",["Register"]),{handlePasswordLevel:function(e,r,t){var s=0;return r?!r||r.length<6?t(new Error("Password too short")):(/[0-9]/.test(r)&&s++,/[a-zA-Z]/.test(r)&&s++,/[^0-9a-zA-Z_]/.test(r)&&s++,this.state.passwordLevel=s,this.state.percent=30*s,void(s>=1?(s>=3&&(this.state.percent=100),t()):(0===s&&(this.state.percent=10),t(new Error("Password strength is not enough"))))):t(new Error("Please enter password"))},handlePasswordCheck:function(e,r,t){var s=this.form.getFieldValue("password");void 0===r&&t(new Error("Please enter the password")),r&&s&&r.trim()!==s.trim()&&t(new Error("Two passwords are inconsistent")),t()},handlePasswordInputClick:function(){this.isMobile()?this.state.passwordLevelChecked=!1:this.state.passwordLevelChecked=!0},handleSubmit:function(){var e=this,r=this.form.validateFields,t=this.state;r({force:!0},(function(r,s){r||(e.registerBtn=!0,t.passwordLevelChecked=!1,s.captchar="duthaho",e.Register(s).then(e.requestSuccess).catch(e.requestFailed).finally((function(){e.registerBtn=!1})))}))},requestSuccess:function(){this.$router.push({path:"/"}),this.errorMessage=null},requestFailed:function(e){if(this.errorMessage="Something wrong",e.response){var r=e.response.data,t=void 0===r?{}:r;this.errorMessage=Object.keys(t).map((function(e){return t[e]})).join(" ")}else e.message&&(this.errorMessage=e.message)}})},p=u,g=(t("5d18"),t("9501"),t("2877")),m=Object(g["a"])(p,s,a,!1,null,"3ad0c71b",null);r["default"]=m.exports},"498a":function(e,r,t){"use strict";var s=t("23e7"),a=t("58a8").trim,o=t("c8d2");s({target:"String",proto:!0,forced:o("trim")},{trim:function(){return a(this)}})},5899:function(e,r){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,r,t){var s=t("1d80"),a=t("5899"),o="["+a+"]",n=RegExp("^"+o+o+"*"),i=RegExp(o+o+"*$"),l=function(e){return function(r){var t=String(s(r));return 1&e&&(t=t.replace(n,"")),2&e&&(t=t.replace(i,"")),t}};e.exports={start:l(1),end:l(2),trim:l(3)}},"5d18":function(e,r,t){"use strict";var s=t("eeab"),a=t.n(s);a.a},9501:function(e,r,t){"use strict";var s=t("ac44"),a=t.n(s);a.a},a15b:function(e,r,t){"use strict";var s=t("23e7"),a=t("44ad"),o=t("fc6a"),n=t("a640"),i=[].join,l=a!=Object,c=n("join",",");s({target:"Array",proto:!0,forced:l||!c},{join:function(e){return i.call(o(this),void 0===e?",":e)}})},ac44:function(e,r,t){},c8d2:function(e,r,t){var s=t("d039"),a=t("5899"),o="​᠎";e.exports=function(e){return s((function(){return!!a[e]()||o[e]()!=o||a[e].name!==e}))}},eeab:function(e,r,t){}}]);
//# sourceMappingURL=chunk-5f325412.399e3d64.js.map